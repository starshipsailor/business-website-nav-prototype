<!DOCTYPE html>
<html lang="en">
<head>
    <!-- CRITICAL: Ensure the browser reads this as HTML -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wise Business Navigation Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8;
            height: 200vh; /* Add height for scrolling visibility */
        }
        /* Tailwind configuration for custom colors */
        .mega-menu {
            /* --- CRITICAL FIXES FOR DROPDOWN VISIBILITY --- */
            position: absolute; /* Changed from fixed to absolute for better flow */
            top: 4rem; /* Height of the header (64px) to position it right below the nav */
            left: 0;
            right: 0;
            width: 100%;
            z-index: 55; /* Slightly higher than header (50) */
            /* ----------------------------------------------- */

            transition: all 0.3s ease-in-out;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-5px);
            pointer-events: none;
            
            position: relative; /* CRITICAL: Enables absolute positioning of side-panel inside */
        }
        .mega-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        /* Adjust header z-index to be lower than menu when active */
        .main-header {
            z-index: 50; 
        }

        /* Styling for the new localized side panel */
        .side-panel {
            position: absolute;
            left: 50%; /* Starts exactly after the first two 1/4 columns (50% of the menu width) */
            width: 50%; /* Covers the last two 1/4 columns */
            height: 100%; /* Make panel full height to cover Resources/Pricing */
            top: 0; /* Align panel to the top of the content area */
            padding-top: 2rem; /* Match the padding-top of the content flex container */
            padding-bottom: 2rem; /* Match the padding-bottom of the content flex container */
            
            /* Initial state: Hidden, compressed */
            opacity: 0;
            pointer-events: none;
            transform: scaleX(0); 
            transform-origin: left;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Soft shadow */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            z-index: 60;
        }

        .side-panel.active {
            opacity: 1;
            pointer-events: auto;
            transform: scaleX(1);
        }

        /* Pointer/Arrow Styling */
        .side-panel::before {
            content: '';
            position: absolute;
            top: var(--pointer-top, 50%); /* Dynamic top position set by JS */
            left: 0; 
            width: 0;
            height: 0;
            /* Triangle shape pointing left */
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 12px solid #fff; /* White arrow body */
            z-index: 61;
            transform: translateY(-50%) translateX(-12px); /* Correctly position and center the arrow */
        }

        /* Custom list style */
        .feature-list {
            list-style: none; /* Remove default bullet */
            padding-left: 0;
            margin-top: 1rem;
        }
        .feature-list li {
            position: relative;
            /* No padding-left here, we'll let the icon handle spacing */
            margin-bottom: 0.75rem; /* Increased spacing for icons */
            font-size: 0.875rem; /* text-sm */
            color: #4C5D73;
        }
        /* REMOVING the ::before element that created the dash */
        .feature-list li a {
            display: flex; /* Use flex to align icon and text */
            align-items: center;
            color: #4C5D73;
            transition: color 0.15s;
        }
        .feature-list li a:hover {
            color: #00B974; /* Wise green on hover */
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'wise-green': '#00B974',
                        'wise-dark-green': '#009F66',
                        'wise-grey': '#4C5D73',
                    }
                }
            }
        }
    </script>
</head>
<body class="pt-10">

    <!-- Top Banner (as seen in image) -->
    <div class="bg-wise-green text-white text-center py-2 text-sm">
        Learn how Wise can help your business. <a href="#" class="underline font-semibold">Register for webinar on 14th October</a>
        <button class="absolute right-4 top-2 text-white/80 hover:text-white">&times;</button>
    </div>

    <!-- Main Navigation Bar -->
    <header class="bg-white shadow-md z-50 sticky top-0 main-header">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <!-- Left Side: Logo and Main Tabs -->
            <div class="flex items-center space-x-8">
                <div class="font-extrabold text-2xl text-wise-grey">wise</div>
                <div class="hidden sm:flex space-x-6 text-wise-grey text-sm font-medium">
                    <a href="#" class="py-2 hover:text-black">Personal</a>
                    <a href="#" 
                       id="business-link"
                       class="py-2 text-black border-b-2 border-wise-green font-semibold"
                       onmouseover="toggleMegaMenu(true)"
                       onmouseout="delayToggleMegaMenu(false)">
                       Business
                    </a>
                    <a href="#" class="py-2 hover:text-black">Platform</a>
                </div>
            </div>
            
            <!-- Right Side: Utility Links and Sign Up -->
            <div class="flex items-center space-x-4 text-sm font-medium">
                <a href="#" class="text-wise-grey hover:text-wise-green">EN</a>
                <a href="#" class="text-wise-grey hover:text-wise-green">Help</a>
                <a href="#" class="text-wise-grey hover:text-wise-green">Log in</a>
                <button class="bg-wise-green text-white px-4 py-2 rounded-full font-semibold shadow-md hover:bg-wise-dark-green transition duration-200">
                    Sign up
                </button>
            </div>
        </nav>
    </header>

    <!-- Mega Menu Container (Hidden by default) -->
    <div id="mega-menu" 
         class="mega-menu w-full bg-white border-b border-gray-200 shadow-xl"
         onmouseover="toggleMegaMenu(true)"
         onmouseout="delayToggleMegaMenu(false)">
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex" id="mega-menu-content-flex">
            
            <!-- Column 1: Promotional/Image Block (w-1/4) -->
            <div class="w-1/4 pr-8 border-r border-gray-100">
                <img src="https://placehold.co/200x120/E0F2F1/000?text=Team+Meeting" 
                     onerror="this.onerror=null;this.src='https://placehold.co/200x120/E0F2F1/000?text=WISE+Image'"
                     alt="Wise Business Team" 
                     class="rounded-lg mb-4 w-full h-auto object-cover">
                <h3 class="text-xl font-bold text-wise-grey mb-2">WISE BUSINESS</h3>
                <p class="text-sm text-gray-500 mb-4">The only account your start-up or scale-up needs to thrive internationally.</p>
                <a href="#" class="flex items-center text-wise-green font-medium text-sm hover:underline">
                    Explore 
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                    </svg>
                </a>
            </div>

            <!-- Column 2: Features (w-1/4) -->
            <div class="w-1/4 px-8">
                <h4 class="text-wise-grey font-semibold mb-4">Features</h4>
                <ul class="space-y-3 text-sm" id="features-list">
                    <li class="group">
                        <a href="#" data-feature="Send Money" onmouseover="showSidePanel('Send Money', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&uarr;</span> Send money
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Receive Money" onmouseover="showSidePanel('Receive Money', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&darr;</span> Receive money
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Get a Business Card" onmouseover="showSidePanel('Get a Business Card', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9638;</span> Get a business card
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Earn Returns" onmouseover="showSidePanel('Earn Returns', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#36;</span> Earn returns
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Manage Team Finances" onmouseover="showSidePanel('Manage Team Finances', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9881;</span> Manage team finances
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Connect Accounting Software" onmouseover="showSidePanel('Connect Accounting Software', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9901;</span> Connect accounting software
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Column 3: Resources and Pricing (w-1/4) -->
            <!-- Note: These columns are visually hidden behind the side panel when active, but still take up space for alignment -->
            <div class="w-1/4 px-8 border-r border-gray-100">
                <h4 class="text-wise-grey font-semibold mb-4">Resources</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Explore API integrations</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Try demo</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Contact sales</a></li>
                </ul>
            </div>
            
            <!-- Column 4: Pricing (w-1/4) -->
            <div class="w-1/4 pl-8">
                <h4 class="text-wise-grey font-semibold mb-4">Pricing</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="#" class="text-gray-700 hover:text-wise-green font-semibold">Business pricing</a></li>
                </ul>
            </div>

        </div>

        <!-- Side Panel (Positioned absolutely over Columns 3 & 4) -->
        <div id="side-panel" class="side-panel bg-white p-6"
             onmouseover="sidePanelHover = true" 
             onmouseout="sidePanelHover = false; delayHideSidePanel()">
            <div id="side-panel-content" class="h-full flex flex-col justify-between">
                <div>
                    <h2 class="text-base font-semibold mb-1 text-wise-grey" id="panel-title">Feature Title</h2>
                    <ul class="feature-list" id="panel-items">
                        <!-- Dynamic list items will be inserted here -->
                    </ul>
                </div>
                <a href="#" id="panel-action-link" class="mt-6 inline-block bg-wise-green text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-wise-dark-green transition duration-200 text-center w-full max-w-[200px]"></a>
            </div>
            <!-- We hide the close button since the panel is driven by hover -->
        </div>

    </div>


    <script>
        const megaMenu = document.getElementById('mega-menu');
        const sidePanel = document.getElementById('side-panel');
        const businessLink = document.getElementById('business-link');
        const featuresList = document.getElementById('features-list');

        let hideMenuTimeout;
        let hidePanelTimeout;
        let sidePanelHover = false;
        
        // Data structure for panel content (Updated with SVG icon paths)
        const featureContent = {
            'Send Money': {
                title: 'Send Money Capabilities',
                items: [
                    { text: 'International & FX transfers', icon: 'M12 2a10 10 0 0 0 10 10 10 10 0 0 0-10 10 10 10 0 0 0-10-10 10 10 0 0 0 10-10zM2 12h20' }, // Globe
                    { text: 'Batch payments', icon: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5' }, // Package
                    { text: 'Direct Debits', icon: 'M17 1l4 4-4 4M21 5H3M7 9L3 5l4-4M3 5h18' }, // Repeat
                    { text: 'Payment Approval', icon: 'M9 11l3 3 5-5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z' }, // CheckCircle
                    { text: 'Bill Pay & Invoice upload', icon: 'M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM14 2v6h6' } // FileText
                ],
                linkText: 'Send money now',
                linkHref: '#'
            },
            'Receive Money': {
                title: 'Receive Money Capabilities',
                items: [
                    { text: 'Domestic & SWIFT bank details', icon: 'M6 12h4m-4 4h4m10 4V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z' }, // Banknote
                    { text: 'Multi-currency Direct Debits', icon: 'M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h4a3.5 3.5 0 0 1 0 7H6' }, // DollarSign
                    { text: 'Multi-currency Invoicing', icon: 'M4 8V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4M4 16v4a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-4M8 12h8M12 10v4' }, // Receipt
                    { text: 'Payment links', icon: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71' }, // Link
                    { text: 'Ecommerce plugins (Woo-commerce, Shopify etc)', icon: 'M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4zM3 6h18M16 10a4 4 0 0 1-8 0' }, // ShoppingBag
                    { text: 'Get paid by Card & local payment methods', icon: 'M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zM2 13h20' } // CreditCard
                ],
                linkText: 'Explore receiving options',
                linkHref: '#'
            },
            // Map "Get a Business Card" to the "Spend" list
            'Get a Business Card': {
                title: 'Spend Management',
                items: [
                    { text: 'Unlimited Team & Business debit cards', icon: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75' }, // Users
                    { text: 'Expense Management', icon: 'M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2M8 2h8M9 13h6M9 17h6' }, // ClipboardList
                    { text: 'Spend Controls & team budgets', icon: 'M12 1a2 2 0 0 0-2 2v3H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4V3a2 2 0 0 0-2-2z' }, // Lock
                    { text: '0.5% Cashback', icon: 'M20 12V7H4v5M4 7l-1 5 1-5h16l-1 5 1-5zM12 22v-4M8 18h8M12 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z' }, // Gift
                    { text: 'Spend Analytics', icon: 'M12 20V10M18 20V4M6 20v-4' }, // BarChart2
                    { text: 'Pay by Direct Debits', icon: 'M17 1l4 4-4 4M21 5H3M7 9L3 5l4-4M3 5h18' } // Repeat
                ],
                linkText: 'Get your business card',
                linkHref: '#'
            },
            // Map "Earn Returns" to the "Hold Money" list
            'Earn Returns': {
                title: 'Holding & Earnings',
                items: [
                    { text: 'Hold money in 50+ currencies', icon: 'M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h12a2 2 0 0 1 0 4H5a2 2 0 0 1 0 4h12a2 2 0 0 0 2-2v-3M5 3v18' }, // Wallet
                    { text: 'Earn interest', icon: 'M10 13l2 2 4-4 6 6M2 17h20M16 4h4v4' }, // TrendingUp
                    { text: 'Safeguard funds', icon: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10zM9 12l2 2 4-4' }, // ShieldCheck
                    { text: 'Deposit Protection (FSCS & FDIC etc)', icon: 'M12 18s-8-4-8-10 8-10 8-10 8 4 8 10-8 10-8 10zM12 18V6M12 18h0' } // Layers
                ],
                linkText: 'Learn about Assets',
                linkHref: '#'
            },
            // Map "Manage Team Finances" to the "Spend" list (reusing content, as requested)
            'Manage Team Finances': {
                title: 'Spend Management',
                items: [
                    { text: 'Unlimited Team & Business debit cards', icon: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75' },
                    { text: 'Expense Management', icon: 'M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2M8 2h8M9 13h6M9 17h6' },
                    { text: 'Spend Controls & team budgets', icon: 'M12 1a2 2 0 0 0-2 2v3H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4V3a2 2 0 0 0-2-2z' },
                    { text: '0.5% Cashback', icon: 'M20 12V7H4v5M4 7l-1 5 1-5h16l-1 5 1-5zM12 22v-4M8 18h8M12 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z' },
                    { text: 'Spend Analytics', icon: 'M12 20V10M18 20V4M6 20v-4' },
                    { text: 'Pay by Direct Debits', icon: 'M17 1l4 4-4 4M21 5H3M7 9L3 5l4-4M3 5h18' }
                ],
                linkText: 'Manage team access',
                linkHref: '#'
            },
            // Map "Connect Accounting Software" to a relevant set of items
            'Connect Accounting Software': {
                title: 'Accounting Integrations',
                items: [
                    { text: 'Sync transactions with Xero, Quickbooks', icon: 'M10 20l4-16L2 12h14z' }, // Zap
                    { text: 'Simplify reconciliation', icon: 'M6 18c-3.3-1.83-2.16-5.43-1-6m5-2h6M4 14.5l-2 1M22 14.5l-2 1M11 20.5l-2 1M15 20.5l2 1' }, // HandCoins
                    { text: 'Automated expense tracking', icon: 'M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM14 2v6h6M8 17h6M12 10v4' }, // FileClock
                    { text: 'API integration support', icon: 'M16 18l4-4-4-4M8 18l-4-4 4-4' } // Code
                ],
                linkText: 'View all integrations',
                linkHref: '#'
            }
        };

        // Standard SVG template helper function
        function getIconSvg(pathData) {
            return `
                <svg class="w-4 h-4 mr-2 text-wise-green flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="${pathData}" />
                </svg>
            `;
        }

        // --- Mega Menu Handlers (Non-async) ---
        
        function toggleMegaMenu(show) {
            clearTimeout(hideMenuTimeout);

            if (show) {
                megaMenu.classList.add('active');
            } else {
                megaMenu.classList.remove('active');
                // Ensure side panel is also hidden when main menu closes
                hideSidePanel(); 
            }
        }

        function delayToggleMegaMenu(show) {
            clearTimeout(hideMenuTimeout);
            // Wait a short period before hiding, in case the user is moving mouse to menu
            if (!show) {
                hideMenuTimeout = setTimeout(() => {
                    toggleMegaMenu(false);
                }, 100); 
            }
        }

        // --- Side Panel Handlers (Non-async) ---

        function showSidePanel(featureName, targetElement) {
            clearTimeout(hidePanelTimeout);
            const content = featureContent[featureName];

            // 1. Calculate pointer position (Logic remains the same for arrow placement)
            const megaMenuRect = megaMenu.getBoundingClientRect();
            const featuresListRect = featuresList.getBoundingClientRect();
            const targetRect = targetElement.getBoundingClientRect();

            const listRelativeTop = featuresListRect.top - megaMenuRect.top;
            const featureCenterY = (targetRect.top + targetRect.bottom) / 2 - megaMenuRect.top;
            
            // The panel content starts at 2rem (32px) from the top of the overall mega menu content area.
            const panelPaddingTop = 32; 
            const featureCenterRelativeToPanelTop = featureCenterY - panelPaddingTop;
            
            // The total height of the features list area
            const featureListAreaHeight = featuresListRect.height;
            
            // Pointer top percentage relative to the side panel's overall height
            const pointerTop = (featureCenterRelativeToPanelTop / featureListAreaHeight) * 100;
            
            // Set CSS variable for the arrow
            sidePanel.style.setProperty('--pointer-top', `${pointerTop}%`);


            // 2. Update panel content
            document.getElementById('panel-title').textContent = content.title;
            
            const itemsContainer = document.getElementById('panel-items');
            itemsContainer.innerHTML = ''; // Clear old items
            content.items.forEach(item => {
                const li = document.createElement('li');
                // Construct the hyperlink with the icon inside
                li.innerHTML = `<a href="#">${getIconSvg(item.icon)}${item.text}</a>`; 
                itemsContainer.appendChild(li);
            });
            
            // Add action link (CTA)
            const actionLink = document.getElementById('panel-action-link');
            actionLink.textContent = content.linkText;
            actionLink.href = content.linkHref; 

            // 3. Set the panel to active
            sidePanel.classList.add('active');
            toggleMegaMenu(true); // Ensure main menu stays open
        }

        function hideSidePanel() {
            clearTimeout(hidePanelTimeout);
            sidePanel.classList.remove('active');
        }

        function delayHideSidePanel() {
            clearTimeout(hidePanelTimeout);
            // Wait a short period before hiding the panel, checking if the mouse has moved into the panel itself
            hidePanelTimeout = setTimeout(() => {
                // Check if the mouse is still over the mega menu or the side panel
                const isOverMegaMenu = megaMenu.matches(':hover');
                const isOverSidePanel = sidePanel.matches(':hover');

                // Only hide if the mouse is not over either
                if (!isOverMegaMenu && !isOverSidePanel) {
                     // We only hide the side panel here, let delayToggleMegaMenu handle the main menu
                     hideSidePanel(); 
                }
            }, 100);
        }
        
        // --- Initialization (Unchanged) ---

        // Add event listeners to the main link for better reliability
        businessLink.addEventListener('mouseenter', () => toggleMegaMenu(true));
        businessLink.addEventListener('mouseleave', () => delayToggleMegaMenu(false));

        // Add a general mouseleave handler for the features list container to initiate panel hiding if mouse moves out of features and panel.
        featuresList.addEventListener('mouseleave', () => delayHideSidePanel());
        
        // Also ensure all feature links use the updated onmouseover handler
        document.querySelectorAll('.feature-link').forEach(link => {
            link.onmouseover = function() {
                const featureName = this.getAttribute('data-feature');
                showSidePanel(featureName, this);
            };
            link.onmouseout = function() {
                // Delay hiding when moving between links or moving out of the features column
                delayHideSidePanel();
            };
        });
    </script>
</body>
</html>
