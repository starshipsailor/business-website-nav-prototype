<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wise Business Navigation Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8;
            height: 200vh; /* Add height for scrolling visibility */
        }
        /* Tailwind configuration for custom colors */
        .mega-menu {
            transition: all 0.3s ease-in-out;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-5px);
            pointer-events: none;
            z-index: 50;
            position: relative; /* CRITICAL: Enables absolute positioning of side-panel inside */
        }
        .mega-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        /* Styling for the new localized side panel */
        .side-panel {
            position: absolute;
            left: 50%; /* Starts exactly after the first two 1/4 columns (50% of the menu width) */
            width: 50%; /* Covers the last two 1/4 columns */
            height: 100%; /* Make panel full height to cover Resources/Pricing */
            top: 0; /* Align panel to the top of the content area */
            padding-top: 2rem; /* Match the padding-top of the content flex container */
            padding-bottom: 2rem; /* Match the padding-bottom of the content flex container */
            
            /* Initial state: Hidden, compressed */
            opacity: 0;
            pointer-events: none;
            transform: scaleX(0); 
            transform-origin: left;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Soft shadow */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            z-index: 60;
        }

        .side-panel.active {
            opacity: 1;
            pointer-events: auto;
            transform: scaleX(1);
        }

        /* Pointer/Arrow Styling */
        .side-panel::before {
            content: '';
            position: absolute;
            top: var(--pointer-top, 50%); /* Dynamic top position set by JS */
            left: 0; 
            width: 0;
            height: 0;
            /* Triangle shape pointing left */
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 12px solid #fff; /* White arrow body */
            z-index: 61;
            transform: translateY(-50%) translateX(-12px); /* Correctly position and center the arrow */
        }

        /* Custom list style */
        .feature-list {
            list-style: none; /* Remove default bullet */
            padding-left: 0;
            margin-top: 1rem;
        }
        .feature-list li {
            position: relative;
            /* No padding-left here, we'll let the icon handle spacing */
            margin-bottom: 0.75rem; /* Increased spacing for icons */
            font-size: 0.875rem; /* text-sm */
            color: #4C5D73;
        }
        /* REMOVING the ::before element that created the dash */
        .feature-list li a {
            display: flex; /* Use flex to align icon and text */
            align-items: center;
            color: #4C5D73;
            transition: color 0.15s;
        }
        .feature-list li a:hover {
            color: #00B974; /* Wise green on hover */
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'wise-green': '#00B974',
                        'wise-dark-green': '#009F66',
                        'wise-grey': '#4C5D73',
                    }
                }
            }
        }
    </script>
</head>
<body class="pt-10">

    <!-- Top Banner (as seen in image) -->
    <div class="bg-wise-green text-white text-center py-2 text-sm">
        Learn how Wise can help your business. <a href="#" class="underline font-semibold">Register for webinar on 14th October</a>
        <button class="absolute right-4 top-2 text-white/80 hover:text-white">&times;</button>
    </div>

    <!-- Main Navigation Bar -->
    <header class="bg-white shadow-md z-50 sticky top-0">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <!-- Left Side: Logo and Main Tabs -->
            <div class="flex items-center space-x-8">
                <div class="font-extrabold text-2xl text-wise-grey">wise</div>
                <div class="hidden sm:flex space-x-6 text-wise-grey text-sm font-medium">
                    <a href="#" class="py-2 hover:text-black">Personal</a>
                    <a href="#" 
                       id="business-link"
                       class="py-2 text-black border-b-2 border-wise-green font-semibold"
                       onmouseover="toggleMegaMenu(true)"
                       onmouseout="delayToggleMegaMenu(false)">
                       Business
                    </a>
                    <a href="#" class="py-2 hover:text-black">Platform</a>
                </div>
            </div>
            
            <!-- Right Side: Utility Links and Sign Up -->
            <div class="flex items-center space-x-4 text-sm font-medium">
                <a href="#" class="text-wise-grey hover:text-wise-green">EN</a>
                <a href="#" class="text-wise-grey hover:text-wise-green">Help</a>
                <a href="#" class="text-wise-grey hover:text-wise-green">Log in</a>
                <button class="bg-wise-green text-white px-4 py-2 rounded-full font-semibold shadow-md hover:bg-wise-dark-green transition duration-200">
                    Sign up
                </button>
            </div>
        </nav>
    </header>

    <!-- Mega Menu Container (Hidden by default) -->
    <div id="mega-menu" 
         class="mega-menu fixed w-full bg-white border-b border-gray-200 shadow-xl"
         onmouseover="toggleMegaMenu(true)"
         onmouseout="delayToggleMegaMenu(false)">
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex" id="mega-menu-content-flex">
            
            <!-- Column 1: Promotional/Image Block (w-1/4) -->
            <div class="w-1/4 pr-8 border-r border-gray-100">
                <img src="https://placehold.co/200x120/E0F2F1/000?text=Team+Meeting" 
                     onerror="this.onerror=null;this.src='https://placehold.co/200x120/E0F2F1/000?text=WISE+Image'"
                     alt="Wise Business Team" 
                     class="rounded-lg mb-4 w-full h-auto object-cover">
                <h3 class="text-xl font-bold text-wise-grey mb-2">WISE BUSINESS</h3>
                <p class="text-sm text-gray-500 mb-4">The only account your start-up or scale-up needs to thrive internationally.</p>
                <a href="#" class="flex items-center text-wise-green font-medium text-sm hover:underline">
                    Explore 
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                    </svg>
                </a>
            </div>

            <!-- Column 2: Features (w-1/4) -->
            <div class="w-1/4 px-8">
                <h4 class="text-wise-grey font-semibold mb-4">Features</h4>
                <ul class="space-y-3 text-sm" id="features-list">
                    <li class="group">
                        <a href="#" data-feature="Send Money" onmouseover="showSidePanel('Send Money', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&uarr;</span> Send money
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Receive Money" onmouseover="showSidePanel('Receive Money', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&darr;</span> Receive money
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Get a Business Card" onmouseover="showSidePanel('Get a Business Card', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9638;</span> Get a business card
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Earn Returns" onmouseover="showSidePanel('Earn Returns', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#36;</span> Earn returns
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Manage Team Finances" onmouseover="showSidePanel('Manage Team Finances', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9881;</span> Manage team finances
                        </a>
                    </li>
                    <li class="group">
                        <a href="#" data-feature="Connect Accounting Software" onmouseover="showSidePanel('Connect Accounting Software', this)" onmouseout="delayHideSidePanel()" class="feature-link flex items-center text-gray-700 hover:text-wise-green transition duration-150">
                            <span class="text-wise-green mr-2 text-xl">&#9901;</span> Connect accounting software
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Column 3: Resources and Pricing (w-1/4) -->
            <!-- Note: These columns are visually hidden behind the side panel when active, but still take up space for alignment -->
            <div class="w-1/4 px-8 border-r border-gray-100">
                <h4 class="text-wise-grey font-semibold mb-4">Resources</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Explore API integrations</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Try demo</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-wise-green">Contact sales</a></li>
                </ul>
            </div>
            
            <!-- Column 4: Pricing (w-1/4) -->
            <div class="w-1/4 pl-8">
                <h4 class="text-wise-grey font-semibold mb-4">Pricing</h4>
                <ul class="space-y-3 text-sm">
                    <li><a href="#" class="text-gray-700 hover:text-wise-green font-semibold">Business pricing</a></li>
                </ul>
            </div>

        </div>

        <!-- Side Panel (Positioned absolutely over Columns 3 & 4) -->
        <div id="side-panel" class="side-panel bg-white p-6"
             onmouseover="sidePanelHover = true" 
             onmouseout="sidePanelHover = false; delayHideSidePanel()">
            <div id="side-panel-content" class="h-full flex flex-col justify-between">
                <div>
                    <h2 class="text-base font-semibold mb-1 text-wise-grey" id="panel-title">Feature Title</h2>
                    <ul class="feature-list" id="panel-items">
                        <!-- Dynamic list items will be inserted here -->
                    </ul>
                </div>
                <a href="#" id="panel-action-link" class="mt-6 inline-block bg-wise-green text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-wise-dark-green transition duration-200 text-center w-full max-w-[200px]"></a>
            </div>
            <!-- We hide the close button since the panel is driven by hover -->
        </div>

    </div>


    <script>
        const megaMenu = document.getElementById('mega-menu');
        const sidePanel = document.getElementById('side-panel');
        const businessLink = document.getElementById('business-link');
        const featuresList = document.getElementById('features-list');

        let hideMenuTimeout;
        let hidePanelTimeout;
        let sidePanelHover = false;
        
        // Data structure for panel content (Updated with SVG icon paths)
        const featureContent = {
            'Send Money': {
                title: 'Send Money